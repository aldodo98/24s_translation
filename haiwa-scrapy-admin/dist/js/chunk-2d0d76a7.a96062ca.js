(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d76a7"],{"775f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",flex:"1 1 auto"}},[a("button",{on:{click:function(t){return e.enableSelectedRows()}}},[e._v("Enable Selected Rows")]),a("button",{on:{click:function(t){return e.disableSelectedRows()}}},[e._v("Disable Selected Rows")]),a("button",{on:{click:function(t){return e.updateSelectedRows()}}},[e._v("Update Category & MenufactoryId for Selected Rows")]),a("button",{on:{click:function(t){return e.runSelectedRows()}}},[e._v("Run Selected Rows")]),a("ag-grid-vue",{staticClass:"ag-theme-alpine",staticStyle:{width:"90%",height:"800px"},attrs:{columnDefs:e.columnDefs,rowData:e.rowData,defaultColDef:e.defaultColDef,rowSelection:"multiple"},on:{"grid-ready":e.onGridReady}}),a("div",{staticClass:"ag-status-name-value"},[a("span",[e._v("Row Count :")]),a("span",[e._v(e._s(e.count))])]),a("udpate-form",{ref:"UpdateCategoryAndMenuIdForm",attrs:{visible:e.visible,loading:e.confirmLoading,model:e.mdl},on:{cancel:e.handleCancel,ok:e.handleOk}})],1)},n=[],d=(a("d81d"),a("d3b7"),a("25f0"),a("401b")),l=a("5ed6"),o=a("c189"),r={name:"CategoryTreeTask",data:function(){return{visible:!1,confirmLoading:!1,mdl:null,columnDefs:null,rowData:null,gridApi:null,columnApi:null,defaultColDef:null,autoGroupColumnDef:null,count:0}},components:{AgGridVue:d["AgGridVue"],"udpate-form":o["a"]},methods:{onGridReady:function(e){this.gridApi=e.api,this.columnApi=e.columnApi},getSelectedTaskIds:function(){var e=this.gridApi.getSelectedNodes(),t=e.map((function(e){return e.data})),a=t.map((function(e){return e.id}));return a},enableSelectedRows:function(){var e=this,t=this.getSelectedTaskIds(),a={TaskIds:t,Enable:!0};Object(l["d"])(a).then((function(t){e.confirmLoading=!1,e.reloadData(),e.$message.info("enable 成功")}))},disableSelectedRows:function(){var e=this,t=this.getSelectedTaskIds(),a={TaskIds:t,Enable:!1};Object(l["b"])(a).then((function(t){e.confirmLoading=!1,e.reloadData(),e.$message.info("disable 成功")}))},updateSelectedRows:function(){var e=this.getSelectedTaskIds();e.length>0?(this.mdl={TaskIds:e.toString()},this.visible=!0):this.$message.warning("You need to select the rows to update")},runSelectedRows:function(){var e=this,t=this.getSelectedTaskIds();if(t.length>0){var a={TaskIds:t.toString()};Object(l["h"])(a).then((function(t){e.confirmLoading=!1,e.reloadData(),e.$message.info("disable 成功")}))}else this.$message.warning("You need to select the rows to run")},reloadData:function(){var e=this;Object(l["f"])().then((function(t){e.rowData=t,e.count=t.length}))},handleCancel:function(){this.visible=!1;var e=this.$refs.UpdateCategoryAndMenuIdForm.form;e.resetFields()},handleOk:function(){var e=this,t=this.$refs.UpdateCategoryAndMenuIdForm.form;this.confirmLoading=!0,t.validateFields((function(a,i){a?e.confirmLoading=!1:Object(l["l"])(i).then((function(a){e.visible=!1,e.confirmLoading=!1,t.resetFields(),e.reloadData(),e.$message.info("修改成功")}))}))}},beforeMount:function(){this.columnDefs=[{headerName:"id",field:"id",checkboxSelection:!0,width:"150",headerCheckboxSelection:!0},{headerName:"Enabled",field:"enabled",filter:!0},{headerName:"Task Status",field:"taskStatus",filter:!0},{headerName:"manuf Id",field:"manufacturerId",width:"100",filter:!0},{headerName:"cat Id",field:"categoryId",width:"100",filter:!0},{headerName:"rootId",field:"rootId",width:"150"},{headerName:"project",field:"projectName",width:"100",filter:!0},{headerName:"L1",field:"categoryLevel1",filter:!0,width:"300"},{headerName:"L2",field:"categoryLevel2",filter:!0,width:"300"},{headerName:"L3",field:"categoryLevel3",filter:!0,width:"300"},{headerName:"L4",field:"categoryLevel4",filter:!0,width:"300"},{headerName:"L5",field:"categoryLevel5",filter:!0,width:"300"},{headerName:"Url",field:"level_Url",filter:!0},{headerName:"Create",field:"createDateTime"},{headerName:"Update",field:"updateDateTime"},{headerName:"Status",field:"status",filter:!0}],this.defaultColDef={resizable:!0},this.autoGroupColumnDef={headerName:"Model",field:"model",cellRenderer:"agGroupCellRenderer",cellRendererParams:{checkbox:!0}},this.reloadData()}},s=r,c=a("2877"),u=Object(c["a"])(s,i,n,!1,null,null,null);t["default"]=u.exports}}]);